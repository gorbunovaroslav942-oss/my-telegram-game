<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamagotchi TGC</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { 
            font-family: sans-serif; 
            background: #e5e9f0; 
            text-align: center; 
            margin: 0; 
            padding: 0; 
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* –®–∞–ø–∫–∞ —Å–æ —Å—Ç–∞—Ç–∞–º–∏ */
        .header {
            padding: 20px;
            background: white;
            border-bottom-left-radius: 25px;
            border-bottom-right-radius: 25px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ –∑–æ–Ω—ã */
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: none; /* –ü—Ä—è—á–µ–º –≤—Å–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        }
        .active { display: block; } /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É */

        /* –ì–ª–∞–≤–Ω–∞—è: –ö–æ—Ç */
        .pet-container { 
            margin: 20px auto; 
            height: 320px; 
            display: flex; 
            justify-content: center; 
            align-items: center;
        }
        .pet-image { 
            width: 280px; 
            height: auto; 
            background: transparent !important;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π */
        .btn-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 10px; 
            margin-bottom: 80px;
        }

        /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é */
        .navbar {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
        }
        .nav-item {
            background: none;
            border: none;
            color: #8e8e93;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            flex: 1;
        }
        .nav-item.active-nav { color: #0088cc; }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ (–ú–∞–≥–∞–∑–∏–Ω –∏ –¢–æ–ø) */
        .list-item {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        button.action-btn { 
            padding: 12px; 
            border: none; 
            border-radius: 10px; 
            background: #0088cc; 
            color: white; 
            font-weight: bold; 
        }
        #clean-btn { background: #ff9800; grid-column: span 2; }
    </style>
</head>
<body>

    <div class="header">
        <h3 style="margin:0">–ë–∞–ª–∞–Ω—Å: <span id="money">100</span> üêæ</h3>
        <p style="font-size: 14px; color: #666; margin: 5px 0 0 0;">
            –°—ã—Ç–æ—Å—Ç—å: <span id="hunger">100</span>% | –ß–∏—Å—Ç–æ—Ç–∞: <span id="clean">100</span>%
        </p>
    </div>

    <div id="home" class="content active">
        <div class="pet-container">
            <img id="pet-img" src="cat.png" alt="Pet" class="pet-image">
        </div>
        <div class="btn-grid">
            <button class="action-btn" onclick="action('feed')">–ö–æ—Ä–º–∏—Ç—å (10üêæ)</button>
            <button class="action-btn" onclick="action('play')">–ò–≥—Ä–∞—Ç—å (+15üêæ)</button>
            <button class="action-btn" id="clean-btn" style="display:none;" onclick="cleanPoo()">–£–±—Ä–∞—Ç—å üí©</button>
        </div>
    </div>

    <div id="shop" class="content">
        <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
        <div class="list-item">
            <span>–í–∏—Ç–∞–º–∏–Ω—ã (+50 —Å—ã—Ç–æ—Å—Ç–∏)</span>
            <button class="action-btn" onclick="buyItem(50)">50üêæ</button>
        </div>
        <div class="list-item">
            <span>–ó–æ–ª–æ—Ç–∞—è –∏–≥—Ä—É—à–∫–∞</span>
            <button class="action-btn" onclick="buyItem(200)">200üêæ</button>
        </div>
        <p style="color: #666;">–ù–æ–≤—ã–µ —Å–∫–∏–Ω—ã —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è...</p>
    </div>

    <div id="top" class="content">
        <h2>–¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤</h2>
        <div class="list-item"><span>1. –ò–≥—Ä–æ–∫ 1256...</span> <b>5000 üêæ</b></div>
        <div class="list-item"><span>2. –ö–æ—Ç–ú–∞—Å—Ç–µ—Ä</span> <b>3200 üêæ</b></div>
        <div class="list-item"><span>3. –¢–≤–æ–π –ü–∏—Ç–æ–º–µ—Ü</span> <b><span class="my-money">100</span> üêæ</b></div>
    </div>

    <div class="navbar">
        <button class="nav-item active-nav" onclick="showTab('home', this)">üè† –ì–ª–∞–≤–Ω–∞—è</button>
        <button class="nav-item" onclick="showTab('shop', this)">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
        <button class="nav-item" onclick="showTab('top', this)">üèÜ –¢–æ–ø</button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let state = { money: 100, hunger: 100, clean: 100, hasPoo: false };

        function showTab(tabId, btn) {
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');

            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª—å –∫–Ω–æ–ø–æ–∫ –≤ –º–µ–Ω—é
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active-nav'));
            btn.classList.add('active-nav');
        }

        function updateUI() {
            document.getElementById('money').innerText = state.money;
            document.querySelectorAll('.my-money').forEach(el => el.innerText = state.money);
            document.getElementById('hunger').innerText = Math.floor(state.hunger);
            document.getElementById('clean').innerText = Math.floor(state.clean);
            document.getElementById('clean-btn').style.display = state.hasPoo ? 'block' : 'none';
        }

        function action(type) {
            if (type === 'feed' && state.money >= 10) {
                state.money -= 10;
                state.hunger = Math.min(100, state.hunger + 20);
            } else if (type === 'play') {
                state.money += 15;
                state.hunger = Math.max(0, state.hunger - 10);
            }
            updateUI();
        }

        function buyItem(price) {
            if (state.money >= price) {
                state.money -= price;
                alert("–ü–æ–∫—É–ø–∫–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∞!");
                updateUI();
            } else {
                alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∞–ø–æ–∫!");
            }
        }

        function cleanPoo() {
            state.hasPoo = false;
            state.clean = 100;
            updateUI();
        }

        // –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª
        setInterval(() => {
            state.hunger = Math.max(0, state.hunger - 1);
            if (Math.random() > 0.9) state.hasPoo = true;
            if (state.hasPoo) state.clean = Math.max(0, state.clean - 3);
            updateUI();
        }, 4000);

        updateUI();
    </script>
</body>
</html>
