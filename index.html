<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tamagotchi Game</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Ä–∞–Ω–∞ */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; /* –ó–∞–ø—Ä–µ—â–∞–µ–º –ª–∏—à–Ω—é—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É –≤—Å–µ–≥–æ —ç–∫—Ä–∞–Ω–∞ */
            background: #e5e9f0;
            font-family: sans-serif;
        }

        /* –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å */
        .header {
            background: white;
            padding: 15px;
            border-bottom: 2px solid #ddd;
            text-align: center;
        }

        /* –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .content-area {
            flex: 1; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—ë —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –º–µ–∂–¥—É —à–∞–ø–∫–æ–π –∏ –º–µ–Ω—é */
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        /* –í–∫–ª–∞–¥–∫–∏ */
        .tab-content { display: none; width: 100%; }
        .active-tab { display: block; }

        /* –ö–æ—Ç */
        .pet-image {
            width: 280px;
            height: auto;
            background: transparent !important;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        /* –°–µ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ */
        .btn-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            width: 100%;
            max-width: 300px;
            margin-top: 20px;
        }

        .action-btn {
            padding: 15px;
            border: none;
            border-radius: 12px;
            background: #0088cc;
            color: white;
            font-weight: bold;
        }

        /* –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ (NAVBAR) */
        .navbar {
            height: 70px; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
            background: #ffffff;
            display: flex;
            border-top: 2px solid #0088cc;
            padding-bottom: env(safe-area-inset-bottom); /* –û—Ç—Å—Ç—É–ø –¥–ª—è –Ω–æ–≤—ã—Ö iPhone */
        }

        .nav-item {
            flex: 1;
            border: none;
            background: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            color: #888;
            cursor: pointer;
        }

        .nav-item.active-nav {
            color: #0088cc;
            background: #f0f8ff;
        }

        /* –î–ª—è —Å–ø–∏—Å–∫–æ–≤ –≤ –ú–∞–≥–∞–∑–∏–Ω–µ –∏ –¢–æ–ø–µ */
        .list-box {
            background: white;
            margin: 10px 0;
            padding: 15px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            width: 90%;
            max-width: 400px;
        }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <h3 style="margin:0">üêæ <span id="money">100</span> | ‚ù§Ô∏è <span id="hunger">100</span>%</h3>
    </div>

    <div class="content-area">
        
        <div id="home" class="tab-content active-tab">
            <img id="pet-img" src="cat.png" alt="–ö–æ—Ç" class="pet-image">
            <div class="btn-grid">
                <button class="action-btn" onclick="action('feed')">–ï–¥–∞ (10)</button>
                <button class="action-btn" onclick="action('play')">–ò–≥—Ä–∞—Ç—å</button>
            </div>
        </div>

        <div id="shop" class="tab-content">
            <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
            <div class="list-box">
                <span>–ö–æ—Ä–º –ü—Ä–µ–º–∏—É–º</span>
                <button onclick="buy(50)" style="background:#28a745; color:white; border:none; padding:5px 10px; border-radius:5px;">50 üêæ</button>
            </div>
            <div class="list-box">
                <span>–ò–≥—Ä—É—à–∫–∞</span>
                <button onclick="buy(100)" style="background:#28a745; color:white; border:none; padding:5px 10px; border-radius:5px;">100 üêæ</button>
            </div>
        </div>

        <div id="top" class="tab-content">
            <h2>–¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤</h2>
            <div class="list-box"><span>1. –ò–≥—Ä–æ–∫ 1256...</span> <b>5000</b></div>
            <div class="list-box"><span>2. –ö–æ—Ç–ú–∞—Å—Ç–µ—Ä</span> <b>3200</b></div>
        </div>

    </div>

    <nav class="navbar">
        <button class="nav-item active-nav" onclick="openTab(event, 'home')">
            <span>üè†</span>
            <span>–ì–ª–∞–≤–Ω–∞—è</span>
        </button>
        <button class="nav-item" onclick="openTab(event, 'shop')">
            <span>üõí</span>
            <span>–ú–∞–≥–∞–∑–∏–Ω</span>
        </button>
        <button class="nav-item" onclick="openTab(event, 'top')">
            <span>üèÜ</span>
            <span>–¢–æ–ø</span>
        </button>
    </nav>
</div>

<script>
    let tg = window.Telegram.WebApp;
    tg.expand();
    tg.ready();

    let state = { money: 100, hunger: 100 };

    function openTab(evt, tabName) {
        // –ü—Ä—è—á–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
        let contents = document.getElementsByClassName("tab-content");
        for (let i = 0; i < contents.length; i++) {
            contents[i].classList.remove("active-tab");
        }

        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –∫–Ω–æ–ø–æ–∫
        let navs = document.getElementsByClassName("nav-item");
        for (let i = 0; i < navs.length; i++) {
            navs[i].classList.remove("active-nav");
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
        document.getElementById(tabName).classList.add("active-tab");
        evt.currentTarget.classList.add("active-nav");
    }

    function updateUI() {
        document.getElementById('money').innerText = state.money;
        document.getElementById('hunger').innerText = Math.floor(state.hunger);
    }

    function action(type) {
        if (type === 'feed' && state.money >= 10) {
            state.money -= 10;
            state.hunger = Math.min(100, state.hunger + 20);
        } else if (type === 'play') {
            state.money += 15;
            state.hunger = Math.max(0, state.hunger - 10);
        }
        updateUI();
    }

    function buy(price) {
        if (state.money >= price) {
            state.money -= price;
            alert("–ö—É–ø–ª–µ–Ω–æ!");
            updateUI();
        } else {
            alert("–ú–∞–ª–æ –ª–∞–ø–æ–∫!");
        }
    }

    setInterval(() => {
        state.hunger = Math.max(0, state.hunger - 1);
        updateUI();
    }, 4000);

    updateUI();
</script>

</body>
</html>
